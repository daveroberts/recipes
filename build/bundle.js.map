{
  "version": 3,
  "sources": ["../scripts/index.js"],
  "sourcesContent": ["let state = {\n  category_selected: null,\n  search: \"\",\n};\nfunction toggle_category(category) {\n  if (state.category_selected == category){\n    state.category_selected = null\n  } else {\n    state.category_selected = category\n  }\n  let category_buttons = document.querySelectorAll(`a.category-button`);\n  for(let category_button of category_buttons){\n    let cat = category_button.dataset.category\n    if (cat == state.category_selected){\n      category_button.classList.add(\"in\");\n    } else {\n      category_button.classList.remove(\"in\")\n    }\n  }\n  render();\n}\n\nfunction search_changed(ev) {\n  let el = document.querySelector(\"#search-text\");\n  state.search = el.value;\n  render();\n}\n\nfunction render() {\n  let el_category_area = document.getElementById(\"category-area\");\n  if (state.search) {\n    el_category_area.classList.add(\"hidden\");\n  } else {\n    el_category_area.classList.remove(\"hidden\");\n  }\n  let el_recipes = Array.from(document.querySelectorAll(\".recipe-list-item\"));\n  let show_all = true;\n  if (state.category_selected || state.search) {\n    show_all = false;\n  }\n  for (let el of el_recipes) {\n    let recipe_categories = el.dataset.categories\n      ? JSON.parse(el.dataset.categories)\n      : [];\n    let does_category_match = recipe_categories.includes(state.category_selected)\n    let search_match = false;\n    if (state.search) {\n      let recipe_name = el.dataset.recipeName;\n      let ingredients = el.dataset.ingredients\n        ? JSON.parse(el.dataset.ingredients)\n        : [];\n      name_match = recipe_name\n        .toLowerCase()\n        .includes(state.search.toLowerCase());\n      let matched_ingredient = ingredients.find((ingredient) =>\n        ingredient.toLowerCase().includes(state.search.toLowerCase())\n      );\n      search_match = !!name_match || !!matched_ingredient;\n    }\n\n    if (show_all || (state.search && search_match) || (!state.search && does_category_match)) {\n      el.classList.remove(\"hidden\");\n    } else {\n      el.classList.add(\"hidden\");\n    }\n  }\n}\n"],
  "mappings": "AAAA,IAAI,MAAQ,CACV,kBAAmB,KACnB,OAAQ,EACV,EACA,SAAS,gBAAgBA,EAAU,CAC7B,MAAM,mBAAqBA,EAC7B,MAAM,kBAAoB,KAE1B,MAAM,kBAAoBA,EAE5B,IAAIC,EAAmB,SAAS,iBAAiB,mBAAmB,EACpE,QAAQC,KAAmBD,EACfC,EAAgB,QAAQ,UACvB,MAAM,kBACfA,EAAgB,UAAU,IAAI,IAAI,EAElCA,EAAgB,UAAU,OAAO,IAAI,EAGzC,OAAO,CACT,CAEA,SAAS,eAAeC,EAAI,CAC1B,IAAIC,EAAK,SAAS,cAAc,cAAc,EAC9C,MAAM,OAASA,EAAG,MAClB,OAAO,CACT,CAEA,SAAS,QAAS,CAChB,IAAIC,EAAmB,SAAS,eAAe,eAAe,EAC1D,MAAM,OACRA,EAAiB,UAAU,IAAI,QAAQ,EAEvCA,EAAiB,UAAU,OAAO,QAAQ,EAE5C,IAAIC,EAAa,MAAM,KAAK,SAAS,iBAAiB,mBAAmB,CAAC,EACtEC,EAAW,IACX,MAAM,mBAAqB,MAAM,UACnCA,EAAW,IAEb,QAASH,KAAME,EAAY,CAIzB,IAAIE,GAHoBJ,EAAG,QAAQ,WAC/B,KAAK,MAAMA,EAAG,QAAQ,UAAU,EAChC,CAAC,GACuC,SAAS,MAAM,iBAAiB,EACxEK,EAAe,GACnB,GAAI,MAAM,OAAQ,CAChB,IAAIC,EAAcN,EAAG,QAAQ,WACzBO,EAAcP,EAAG,QAAQ,YACzB,KAAK,MAAMA,EAAG,QAAQ,WAAW,EACjC,CAAC,EACL,WAAaM,EACV,YAAY,EACZ,SAAS,MAAM,OAAO,YAAY,CAAC,EACtC,IAAIE,EAAqBD,EAAY,KAAME,GACzCA,EAAW,YAAY,EAAE,SAAS,MAAM,OAAO,YAAY,CAAC,CAC9D,EACAJ,EAAe,CAAC,CAAC,YAAc,CAAC,CAACG,CACnC,CAEIL,GAAa,MAAM,QAAUE,GAAkB,CAAC,MAAM,QAAUD,EAClEJ,EAAG,UAAU,OAAO,QAAQ,EAE5BA,EAAG,UAAU,IAAI,QAAQ,CAE7B,CACF",
  "names": ["category", "category_buttons", "category_button", "ev", "el", "el_category_area", "el_recipes", "show_all", "does_category_match", "search_match", "recipe_name", "ingredients", "matched_ingredient", "ingredient"]
}
