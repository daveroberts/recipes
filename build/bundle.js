let state={categories_selected:[],search:""};function toggle_category(t){let s=state.categories_selected.findIndex(e=>e==t),a=document.querySelector(`a[data-category="${t}"]`);s==-1?(state.categories_selected.push(t),a.classList.add("in")):(state.categories_selected.splice(s,1),a.classList.remove("in")),render()}function search_changed(t){let s=document.querySelector("#search-text");state.search=s.value,render()}function render(){let t=document.getElementById("category-area");state.search?t.classList.add("hidden"):t.classList.remove("hidden");let s=Array.from(document.querySelectorAll(".recipe-list-item")),a=!0;(state.categories_selected.length>0||state.search)&&(a=!1);for(let e of s){let l=e.dataset.categories?JSON.parse(e.dataset.categories):[],i=!0;for(let r of state.categories_selected)if(!l.includes(r)){i=!1;break}let c=!0;if(state.search){c=!1;let r=e.dataset.recipeName,d=e.dataset.ingredients?JSON.parse(e.dataset.ingredients):[];name_match=r.toLowerCase().includes(state.search.toLowerCase());let o=d.find(n=>n.toLowerCase().includes(state.search.toLowerCase()));c=!!name_match||!!o}a||i&&c?e.classList.remove("hidden"):e.classList.add("hidden")}}
//# sourceMappingURL=bundle.js.map
